<Window x:Class="CATERINGMANAGEMENT.View.Windows.AdminContractWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="Admin Contract Generator"
        Height="720" Width="920" MinWidth="760" MinHeight="560"
        WindowStartupLocation="CenterScreen"
        Background="{DynamicResource MaterialDesignPaper}"
        FontFamily="Segoe UI"
        FontSize="14"
        Style="{StaticResource MaterialDesignWindow}"
        ResizeMode="CanResize">

    <Grid Margin="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- HEADER -->
        <StackPanel Grid.Row="0" Margin="4,4,4,12">
            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                <materialDesign:PackIcon Kind="FileDocumentBoxOutline"
                                         Width="26" Height="26"
                                         Foreground="#673AB7"
                                         Margin="0,0,10,0"/>
                <TextBlock Text="Admin Contract Generator"
                           FontSize="22"
                           FontWeight="Bold"
                           Foreground="#333"
                           VerticalAlignment="Center"/>
            </StackPanel>
            <TextBlock FontSize="13" Foreground="Gray" Margin="0,6,0,0"
                       Text="Input reservation-like details and generate a contract PDF (optionally send via email)."/>
        </StackPanel>

        <!-- MAIN CONTENT -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" MinWidth="380"/>
                <ColumnDefinition Width="12"/>
                <ColumnDefinition Width="*" MinWidth="380"/>
            </Grid.ColumnDefinitions>

            <!-- LEFT -->
            <ScrollViewer Grid.Column="0" VerticalScrollBarVisibility="Auto">
                <StackPanel>
                    <GroupBox Header="Client Information" Padding="10" Margin="0,0,0,12">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="160"/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Full Name:" VerticalAlignment="Center"/>
                            <TextBox Grid.Row="0" Grid.Column="1" Text="{Binding ClientName, UpdateSourceTrigger=PropertyChanged}" Style="{StaticResource MaterialDesignFloatingHintTextBox}"/>

                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Email:" Margin="0,8,0,0" VerticalAlignment="Center"/>
                            <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding ClientEmail, UpdateSourceTrigger=PropertyChanged}" Style="{StaticResource MaterialDesignFloatingHintTextBox}" Margin="0,8,0,0"/>

                            <TextBlock Grid.Row="2" Grid.Column="0" Text="Contact No.:" Margin="0,8,0,0" VerticalAlignment="Center"/>
                            <TextBox Grid.Row="2" Grid.Column="1" Text="{Binding ClientContact, UpdateSourceTrigger=PropertyChanged}"
                                     PreviewTextInput="Contact_PreviewTextInput"
                                     DataObject.Pasting="Contact_Pasting"
                                     Style="{StaticResource MaterialDesignFloatingHintTextBox}" Margin="0,8,0,0"/>

                            <TextBlock Grid.Row="3" Grid.Column="0" Text="Address:" Margin="0,8,0,0" VerticalAlignment="Center"/>
                            <TextBox Grid.Row="3" Grid.Column="1" Text="{Binding ClientAddress, UpdateSourceTrigger=PropertyChanged}" Style="{StaticResource MaterialDesignFloatingHintTextBox}" Margin="0,8,0,0"/>
                        </Grid>
                    </GroupBox>

                    <GroupBox Header="Event Details" Padding="10" Margin="0,0,0,12">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="160"/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Celebrant:" VerticalAlignment="Center"/>
                            <TextBox Grid.Row="0" Grid.Column="1" Text="{Binding Celebrant, UpdateSourceTrigger=PropertyChanged}" Style="{StaticResource MaterialDesignFloatingHintTextBox}"/>

                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Venue:" Margin="0,8,0,0" VerticalAlignment="Center"/>
                            <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding Venue, UpdateSourceTrigger=PropertyChanged}" Style="{StaticResource MaterialDesignFloatingHintTextBox}" Margin="0,8,0,0"/>

                            <TextBlock Grid.Row="2" Grid.Column="0" Text="Location:" Margin="0,8,0,0" VerticalAlignment="Center"/>
                            <TextBox Grid.Row="2" Grid.Column="1" Text="{Binding Location, UpdateSourceTrigger=PropertyChanged}" Style="{StaticResource MaterialDesignFloatingHintTextBox}" Margin="0,8,0,0"/>

                            <TextBlock Grid.Row="3" Grid.Column="0" Text="Event Date:" Margin="0,8,0,0" VerticalAlignment="Center"/>
                            <DatePicker Grid.Row="3" Grid.Column="1" SelectedDate="{Binding EventDate}" Margin="0,8,0,0"/>

                            <TextBlock Grid.Row="4" Grid.Column="0" Text="Event Time (HH:mm):" Margin="0,8,0,0" VerticalAlignment="Center"/>
                            <TextBox Grid.Row="4" Grid.Column="1" Text="{Binding EventTimeText, UpdateSourceTrigger=PropertyChanged}" Style="{StaticResource MaterialDesignFloatingHintTextBox}" Margin="0,8,0,0"/>

                            <Grid Grid.Row="5" Grid.ColumnSpan="2" Margin="0,8,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition/>
                                    <ColumnDefinition Width="16"/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>

                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="Adults"/>
                                    <TextBox Text="{Binding AdultsQty, UpdateSourceTrigger=PropertyChanged}"
                                             PreviewTextInput="Contact_PreviewTextInput"
                                             DataObject.Pasting="Contact_Pasting"
                                             Style="{StaticResource MaterialDesignFloatingHintTextBox}"/>
                                </StackPanel>
                                <StackPanel Grid.Column="2">
                                    <TextBlock Text="Kids"/>
                                    <TextBox Text="{Binding KidsQty, UpdateSourceTrigger=PropertyChanged}"
                                             PreviewTextInput="Contact_PreviewTextInput"
                                             DataObject.Pasting="Contact_Pasting"
                                             Style="{StaticResource MaterialDesignFloatingHintTextBox}"/>
                                </StackPanel>
                            </Grid>
                        </Grid>
                    </GroupBox>
                </StackPanel>
            </ScrollViewer>

            <!-- SPLITTER -->
            <GridSplitter Grid.Column="1" Width="4" HorizontalAlignment="Stretch" Background="#DDD" />

            <!-- RIGHT -->
            <ScrollViewer Grid.Column="2" VerticalScrollBarVisibility="Auto">
                <StackPanel>
                    <GroupBox Header="Selections" Padding="10" Margin="0,0,0,12">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="160"/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Package:" VerticalAlignment="Center"/>
                            <ComboBox Grid.Row="0" Grid.Column="1"
                                      ItemsSource="{Binding Packages}"
                                      SelectedItem="{Binding SelectedPackage}"
                                      DisplayMemberPath="Name"
                                      Style="{StaticResource MaterialDesignComboBox}"/>

                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Theme/Motif:" Margin="0,8,0,0" VerticalAlignment="Center"/>
                            <ComboBox Grid.Row="1" Grid.Column="1" Margin="0,8,0,0"
                                      ItemsSource="{Binding Themes}"
                                      SelectedItem="{Binding SelectedTheme}"
                                      DisplayMemberPath="Name"
                                      Style="{StaticResource MaterialDesignComboBox}"/>

                            <TextBlock Grid.Row="2" Grid.Column="0" Text="Grazing:" Margin="0,8,0,0" VerticalAlignment="Center"/>
                            <ComboBox Grid.Row="2" Grid.Column="1" Margin="0,8,0,0"
                                      ItemsSource="{Binding Grazings}"
                                      SelectedItem="{Binding SelectedGrazing}"
                                      DisplayMemberPath="Name"
                                      Style="{StaticResource MaterialDesignComboBox}"/>
                        </Grid>
                    </GroupBox>

                    <GroupBox Header="Delivery" Padding="10" Margin="0,0,0,12">
                        <StackPanel>
                            <CheckBox Content="Send contract to client via email after generating PDF"
                                      IsChecked="{Binding SendEmail}"/>
                        </StackPanel>
                    </GroupBox>
                </StackPanel>
            </ScrollViewer>
        </Grid>

        <!-- BOTTOM BUTTONS -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,12,0,0">
            <Button Command="{Binding GenerateContractCommand}"
                    Background="#3949AB" Foreground="White" Padding="10,6" Height="34">
                <StackPanel Orientation="Horizontal">
                    <materialDesign:PackIcon Kind="FilePdfBox" Width="18" Height="18"/>
                    <TextBlock Text="Generate Contract" Margin="8,0,0,0" FontSize="14"/>
                </StackPanel>
            </Button>

            <Button Background="#E0E0E0" Foreground="#333" Padding="10,6" Height="34" Margin="8,0,0,0" Click="Close_Click">
                <StackPanel Orientation="Horizontal">
                    <materialDesign:PackIcon Kind="CloseCircle" Width="18" Height="18"/>
                    <TextBlock Text="Close" Margin="8,0,0,0" FontSize="14"/>
                </StackPanel>
            </Button>
        </StackPanel>
    </Grid>
</Window>
